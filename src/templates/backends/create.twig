{% import '_includes/forms.twig' as forms %}

{{ forms.hidden({
    name: 'id',
    value: backend.id|default()
}) }}

{{ forms.textField({
    first: true,
    label: 'Name',
    name: 'name',
    value: old('name', backend.name|default('')),
    errors: [craft.app.session.getFlash('error.name')]|filter,
}) }}

{% include backend.settingsView %}

{#
{% js %}
    {% if not backend.id|default(false) %}new Craft.HandleGenerator('#name', '#handle');{% endif %}
{% endjs %}
#}
